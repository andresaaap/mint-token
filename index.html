<<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
    <h1>Mint Tokens</h1>
  </body>
  <script type="text/javascript" src="https://raw.githubusercontent.com/ethereum/web3.js/1.x/dist/web3.min.js"></script>
  <script type="text/javascript">
    var web3 = new Web3(Web3.givenProvider || "http://localhost:8545");

    var abi = [
                {
                  "constant": true,
                  "inputs": [
                    {
                      "name": "interfaceId",
                      "type": "bytes4"
                    }
                  ],
                  "name": "supportsInterface",
                  "outputs": [
                    {
                      "name": "",
                      "type": "bool"
                    }
                  ],
                  "payable": false,
                  "stateMutability": "view",
                  "type": "function"
                },
                {
                  "constant": true,
                  "inputs": [
                    {
                      "name": "tokenId",
                      "type": "uint256"
                    }
                  ],
                  "name": "getApproved",
                  "outputs": [
                    {
                      "name": "",
                      "type": "address"
                    }
                  ],
                  "payable": false,
                  "stateMutability": "view",
                  "type": "function"
                },
                {
                  "constant": false,
                  "inputs": [
                    {
                      "name": "to",
                      "type": "address"
                    },
                    {
                      "name": "tokenId",
                      "type": "uint256"
                    }
                  ],
                  "name": "approve",
                  "outputs": [],
                  "payable": false,
                  "stateMutability": "nonpayable",
                  "type": "function"
                },
                {
                  "constant": true,
                  "inputs": [],
                  "name": "getSymbol",
                  "outputs": [
                    {
                      "name": "",
                      "type": "string"
                    }
                  ],
                  "payable": false,
                  "stateMutability": "view",
                  "type": "function"
                },
                {
                  "constant": false,
                  "inputs": [
                    {
                      "name": "mode",
                      "type": "bool"
                    }
                  ],
                  "name": "setPaused",
                  "outputs": [],
                  "payable": false,
                  "stateMutability": "nonpayable",
                  "type": "function"
                },
                {
                  "constant": true,
                  "inputs": [],
                  "name": "getName",
                  "outputs": [
                    {
                      "name": "",
                      "type": "string"
                    }
                  ],
                  "payable": false,
                  "stateMutability": "view",
                  "type": "function"
                },
                {
                  "constant": true,
                  "inputs": [],
                  "name": "totalSupply",
                  "outputs": [
                    {
                      "name": "",
                      "type": "uint256"
                    }
                  ],
                  "payable": false,
                  "stateMutability": "view",
                  "type": "function"
                },
                {
                  "constant": false,
                  "inputs": [
                    {
                      "name": "from",
                      "type": "address"
                    },
                    {
                      "name": "to",
                      "type": "address"
                    },
                    {
                      "name": "tokenId",
                      "type": "uint256"
                    }
                  ],
                  "name": "transferFrom",
                  "outputs": [],
                  "payable": false,
                  "stateMutability": "nonpayable",
                  "type": "function"
                },
                {
                  "constant": false,
                  "inputs": [
                    {
                      "name": "_myid",
                      "type": "bytes32"
                    },
                    {
                      "name": "_result",
                      "type": "string"
                    }
                  ],
                  "name": "__callback",
                  "outputs": [],
                  "payable": false,
                  "stateMutability": "nonpayable",
                  "type": "function"
                },
                {
                  "constant": true,
                  "inputs": [],
                  "name": "verifier",
                  "outputs": [
                    {
                      "name": "",
                      "type": "address"
                    }
                  ],
                  "payable": false,
                  "stateMutability": "view",
                  "type": "function"
                },
                {
                  "constant": true,
                  "inputs": [
                    {
                      "name": "owner",
                      "type": "address"
                    },
                    {
                      "name": "index",
                      "type": "uint256"
                    }
                  ],
                  "name": "tokenOfOwnerByIndex",
                  "outputs": [
                    {
                      "name": "",
                      "type": "uint256"
                    }
                  ],
                  "payable": false,
                  "stateMutability": "view",
                  "type": "function"
                },
                {
                  "constant": false,
                  "inputs": [
                    {
                      "name": "_myid",
                      "type": "bytes32"
                    },
                    {
                      "name": "_result",
                      "type": "string"
                    },
                    {
                      "name": "_proof",
                      "type": "bytes"
                    }
                  ],
                  "name": "__callback",
                  "outputs": [],
                  "payable": false,
                  "stateMutability": "nonpayable",
                  "type": "function"
                },
                {
                  "constant": true,
                  "inputs": [
                    {
                      "name": "tokenId",
                      "type": "uint256"
                    }
                  ],
                  "name": "getTokenURI",
                  "outputs": [
                    {
                      "name": "",
                      "type": "string"
                    }
                  ],
                  "payable": false,
                  "stateMutability": "view",
                  "type": "function"
                },
                {
                  "constant": false,
                  "inputs": [
                    {
                      "name": "to",
                      "type": "address"
                    },
                    {
                      "name": "tokenID",
                      "type": "uint256"
                    }
                  ],
                  "name": "mint",
                  "outputs": [
                    {
                      "name": "",
                      "type": "bool"
                    }
                  ],
                  "payable": false,
                  "stateMutability": "nonpayable",
                  "type": "function"
                },
                {
                  "constant": false,
                  "inputs": [
                    {
                      "name": "from",
                      "type": "address"
                    },
                    {
                      "name": "to",
                      "type": "address"
                    },
                    {
                      "name": "tokenId",
                      "type": "uint256"
                    }
                  ],
                  "name": "safeTransferFrom",
                  "outputs": [],
                  "payable": false,
                  "stateMutability": "nonpayable",
                  "type": "function"
                },
                {
                  "constant": true,
                  "inputs": [
                    {
                      "name": "index",
                      "type": "uint256"
                    }
                  ],
                  "name": "tokenByIndex",
                  "outputs": [
                    {
                      "name": "",
                      "type": "uint256"
                    }
                  ],
                  "payable": false,
                  "stateMutability": "view",
                  "type": "function"
                },
                {
                  "constant": true,
                  "inputs": [
                    {
                      "name": "tokenId",
                      "type": "uint256"
                    }
                  ],
                  "name": "ownerOf",
                  "outputs": [
                    {
                      "name": "",
                      "type": "address"
                    }
                  ],
                  "payable": false,
                  "stateMutability": "view",
                  "type": "function"
                },
                {
                  "constant": true,
                  "inputs": [
                    {
                      "name": "owner",
                      "type": "address"
                    }
                  ],
                  "name": "balanceOf",
                  "outputs": [
                    {
                      "name": "",
                      "type": "uint256"
                    }
                  ],
                  "payable": false,
                  "stateMutability": "view",
                  "type": "function"
                },
                {
                  "constant": true,
                  "inputs": [],
                  "name": "getOwner",
                  "outputs": [
                    {
                      "name": "",
                      "type": "address"
                    }
                  ],
                  "payable": false,
                  "stateMutability": "view",
                  "type": "function"
                },
                {
                  "constant": false,
                  "inputs": [
                    {
                      "name": "to",
                      "type": "address"
                    },
                    {
                      "name": "approved",
                      "type": "bool"
                    }
                  ],
                  "name": "setApprovalForAll",
                  "outputs": [],
                  "payable": false,
                  "stateMutability": "nonpayable",
                  "type": "function"
                },
                {
                  "constant": false,
                  "inputs": [
                    {
                      "name": "from",
                      "type": "address"
                    },
                    {
                      "name": "to",
                      "type": "address"
                    },
                    {
                      "name": "tokenId",
                      "type": "uint256"
                    },
                    {
                      "name": "_data",
                      "type": "bytes"
                    }
                  ],
                  "name": "safeTransferFrom",
                  "outputs": [],
                  "payable": false,
                  "stateMutability": "nonpayable",
                  "type": "function"
                },
                {
                  "constant": true,
                  "inputs": [],
                  "name": "getBaseTokenURI",
                  "outputs": [
                    {
                      "name": "",
                      "type": "string"
                    }
                  ],
                  "payable": false,
                  "stateMutability": "view",
                  "type": "function"
                },
                {
                  "constant": true,
                  "inputs": [
                    {
                      "name": "owner",
                      "type": "address"
                    },
                    {
                      "name": "operator",
                      "type": "address"
                    }
                  ],
                  "name": "isApprovedForAll",
                  "outputs": [
                    {
                      "name": "",
                      "type": "bool"
                    }
                  ],
                  "payable": false,
                  "stateMutability": "view",
                  "type": "function"
                },
                {
                  "constant": false,
                  "inputs": [
                    {
                      "name": "newOwner",
                      "type": "address"
                    }
                  ],
                  "name": "transferOwnership",
                  "outputs": [],
                  "payable": false,
                  "stateMutability": "nonpayable",
                  "type": "function"
                },
                {
                  "inputs": [
                    {
                      "name": "verifierAddress",
                      "type": "address"
                    }
                  ],
                  "payable": false,
                  "stateMutability": "nonpayable",
                  "type": "constructor"
                },
                {
                  "anonymous": false,
                  "inputs": [
                    {
                      "indexed": false,
                      "name": "tokenid",
                      "type": "uint256"
                    },
                    {
                      "indexed": false,
                      "name": "addr",
                      "type": "address"
                    }
                  ],
                  "name": "SolutionAdded",
                  "type": "event"
                },
                {
                  "anonymous": false,
                  "inputs": [
                    {
                      "indexed": true,
                      "name": "from",
                      "type": "address"
                    },
                    {
                      "indexed": true,
                      "name": "to",
                      "type": "address"
                    },
                    {
                      "indexed": true,
                      "name": "tokenId",
                      "type": "uint256"
                    }
                  ],
                  "name": "Transfer",
                  "type": "event"
                },
                {
                  "anonymous": false,
                  "inputs": [
                    {
                      "indexed": true,
                      "name": "owner",
                      "type": "address"
                    },
                    {
                      "indexed": true,
                      "name": "approved",
                      "type": "address"
                    },
                    {
                      "indexed": true,
                      "name": "tokenId",
                      "type": "uint256"
                    }
                  ],
                  "name": "Approval",
                  "type": "event"
                },
                {
                  "anonymous": false,
                  "inputs": [
                    {
                      "indexed": true,
                      "name": "owner",
                      "type": "address"
                    },
                    {
                      "indexed": true,
                      "name": "operator",
                      "type": "address"
                    },
                    {
                      "indexed": false,
                      "name": "approved",
                      "type": "bool"
                    }
                  ],
                  "name": "ApprovalForAll",
                  "type": "event"
                },
                {
                  "anonymous": false,
                  "inputs": [],
                  "name": "Paused",
                  "type": "event"
                },
                {
                  "anonymous": false,
                  "inputs": [],
                  "name": "Unpaused",
                  "type": "event"
                },
                {
                  "anonymous": false,
                  "inputs": [
                    {
                      "indexed": false,
                      "name": "newOwner",
                      "type": "address"
                    }
                  ],
                  "name": "OwnershipTransfered",
                  "type": "event"
                },
                {
                  "constant": true,
                  "inputs": [
                    {
                      "name": "a",
                      "type": "uint256[2]"
                    },
                    {
                      "name": "b",
                      "type": "uint256[2][2]"
                    },
                    {
                      "name": "c",
                      "type": "uint256[2]"
                    },
                    {
                      "name": "input",
                      "type": "uint256[2]"
                    }
                  ],
                  "name": "getVerifierKey",
                  "outputs": [
                    {
                      "name": "",
                      "type": "bytes32"
                    }
                  ],
                  "payable": false,
                  "stateMutability": "pure",
                  "type": "function"
                },
                {
                  "constant": false,
                  "inputs": [
                    {
                      "name": "tokenid",
                      "type": "uint256"
                    },
                    {
                      "name": "addr",
                      "type": "address"
                    },
                    {
                      "name": "key",
                      "type": "bytes32"
                    }
                  ],
                  "name": "addSolution",
                  "outputs": [],
                  "payable": false,
                  "stateMutability": "nonpayable",
                  "type": "function"
                },
                {
                  "constant": false,
                  "inputs": [
                    {
                      "name": "addr",
                      "type": "address"
                    },
                    {
                      "name": "tokenId",
                      "type": "uint256"
                    },
                    {
                      "name": "a",
                      "type": "uint256[2]"
                    },
                    {
                      "name": "b",
                      "type": "uint256[2][2]"
                    },
                    {
                      "name": "c",
                      "type": "uint256[2]"
                    },
                    {
                      "name": "input",
                      "type": "uint256[2]"
                    }
                  ],
                  "name": "mintToken",
                  "outputs": [],
                  "payable": false,
                  "stateMutability": "nonpayable",
                  "type": "function"
                }
              ];

    var proof = {
        "proof": {
            "a": ["0x25a90b75e80489d00eb2cffea746d7027275284e0e6bd2d77a90cfd651276b0d", "0x28d07897d07db8eeb88a0119dd134a1814d4b446fa1418c2fbed0fe4e6b08653"],
            "b": [["0x2fb232f8db8479c19a01e1c9d738dba07a2ee0202c48c1a9480819053c291c7b", "0x0440b819aadd53a902933c57ab4852ce46436fab546234a2abdd588537789ed3"], ["0x066a88209aef7c90f09140bd65788c9d97eb2ca3724a7c26b5bf1accd69f0bba", "0x087f1ed033e820e61bbebdbfc43aaed820c198ffb7ea7ff356faedb9749decf0"]],
            "c": ["0x11e4db358e90685f80d01ae88edc9ab15ab12edb51f2025b24b56ccd53412e2b", "0x111ed2014f8ec00143da7c467d71b255e951e98ddfac82961024bb682e8310ca"]
        },
        "inputs": ["0x0000000000000000000000000000000000000000000000000000000000000001", "0x0000000000000000000000000000000000000000000000000000000000000000"]
    };

    var myContract = new web3.eth.Contract(abi, '0xde0B295669a9FD93d5F28D9Ec85E40f4cb697BAe', {
        from: '0x1234567890123456789012345678901234567891', // default from address
        gasPrice: '20000000000' // default gas price in wei, 20 gwei in this case
    });

    myContract.methods.mintToken('0xde0B295669a9FD93d5F28D9Ec85E40f4cb697BAe', proof.proof.a, proof.proof.b, proof.proof.c, proof.inputs).send({from: '0xde0B295669a9FD93d5F28D9Ec85E40f4cb697BAe'})
    .once('transactionHash', function(hash){ ... })
    .once('receipt', function(receipt){ ... })
    .on('confirmation', function(confNumber, receipt){ ... })
    .on('error', function(error){
      console.log(error);
    })
    .then(function(receipt){
      console.log(receipt);
        // will be fired once the receipt is mined
    });
  </script>

</html>
